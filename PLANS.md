# PLANS: DreamWeave 実装ロードマップ

本ドキュメントは、コーディングアシスタントAIがDreamWeaveの開発を進める際のタスク分解と優先度を示します。状況に応じて更新してください。

## ステージ概要
| ステージ | 目的 | 主な対象機能 |
|----------|------|--------------|
| Stage 0  | 基盤整備 | リポジトリ初期化、CI、Lint、テスト基盤 |
| Stage 1  | MVP記録 | F-1〜F-8, F-17, F-18（アラーム＋夢記録＋リスト） |
| Stage 2  | 拡張①   | 睡眠センサ連携、感情タグ（F-3, F-7, F-11など） |
| Stage 3  | 拡張②   | 夢世界マップ・類似夢リンク（F-9〜F-15） |
| Stage 4  | プレミアム | 3Dマップ、感情レポート、音声保管（F-20〜F-23） |

## 現在の優先度: Stage 0 → Stage 1

### Stage 0: 基盤整備
- Todo
  - [ ] `backend/` にFastAPIプロジェクトのスキャフォールドを作成
  - [ ] `mobile/` にFlutterプロジェクトを初期化
  - [ ] CIワークフロー（lint + test）を構築（GitHub Actions想定）
  - [ ] Supabaseローカル環境をdocker-composeまたはCLIで整備
- 完了条件
  - 主要ディレクトリが作成され、READMEにセットアップ手順が追記されている
  - CIがmainブランチで緑になる

### Stage 1: MVP記録機能
- Todo
  - [ ] アラーム設定・起床トリガ（F-1, F-2）をFlutterで実装
  - [ ] Whisper APIを利用した音声入力・テキスト化（F-4）
  - [ ] 会話補助プロンプトとUI（F-5）
  - [ ] テキスト編集＆保存UI（F-6）
  - [ ] バックエンドAPI: 夢エントリCRUD + タグ/要約生成
  - [ ] 夢日記生成（F-8）: GPT-4o miniを使った要約エンドポイント
  - [ ] 夢リスト・検索（F-17, F-18）: Flutter UI + Supabaseクエリ
- 完了条件
  - MVPフロー（起床→音声入力→要約→保存→閲覧）がE2Eで動作
  - 最低限のユニットテスト / 統合テストがCIで実行される

### Stage 2以降
- Stage 2: 睡眠ログ、感情タグ、統計表示（F-3, F-7, F-19, F-11）
- Stage 3: 夢マップ、類似夢、匿名共有（F-9〜F-15）
- Stage 4: プレミアム機能群（F-20〜F-23）

## ワークフローの使い方
1. タスクに着手する前に該当項目のチェックボックスを`[ ]`→`[x]`へ更新し、担当者・メモをコメントとして追記します。
2. 新しい課題やリスクが発生した場合は、対応するステージに追記してください。
3. 作業が完了したらチェックボックスを`[x]`に更新し、関連PR番号を記載してください。

## 参考資料
- [`RDD.md`](./RDD.md): 詳細要件
- [`README.md`](./README.md): 開発概要・セットアップ
- [`IMPROVEMENTS.md`](./IMPROVEMENTS.md): 追加の改善アイデア
